<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Getting Started with birdweatheR • birdweatheR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Getting Started with birdweatheR">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">birdweatheR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/getting-started.html">Getting Started with birdweatheR</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Getting Started with birdweatheR</h1>
            
      

      <div class="d-none name"><code>getting-started.Rmd</code></div>
    </div>

    
    
<div class="section level3">
<h3 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h3>
<p><a href="https://birdweather.com" class="external-link">BirdWeather</a> is a global network
of acoustic monitoring stations maintained and operated by volunteers
that continuously record and automatically identify bird vocalizations
using the BirdNET neural network. As of February 2026, the network
comprises over 18,000 stations across six continents, collectively
generating tens of millions of detections per month. Just recently, the
database hit 2 billion detections! Unlike citizen science platforms that
rely on human observers, BirdWeather stations operate continuously and
autonomously — making the dataset uniquely suited to studying
fine-grained temporal patterns in bird behavior, including responses to
weather events, light cycles, and astronomical phenomena.</p>
<p>Currently, BirdWeather offers three options for accessing the
database: 1) A user-friendly GUI data explorer, 2) GraphQL API, and 3)
REST API. While the latter two are particularly powerful, not all users
are comfortable with API calls. <code>birdweatheR</code> provides an R
interface to the BirdWeather API, enabling researchers to download
detection data, explore species activity patterns, andintegrate on-board
sensor readings from BirdWeather PUC units — which record temperature,
barometric pressure, humidity, air quality, and spectral light levels
alongside acoustic detections.</p>
<div class="section level4">
<h4 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h4>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install from GitHub</span></span>
<span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"BrentPease1/birdweatheR"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="connecting-to-the-api">Connecting to the API<a class="anchor" aria-label="anchor" href="#connecting-to-the-api"></a>
</h4>
<p>All functions require an active API connection. No API KEY required.
Establish a connection at the start of each session:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://birdweather.com/" class="external-link">birdweatheR</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/connect_birdweather.html">connect_birdweather</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>The connection is stored in a package-level environment and used
automatically by all downstream functions. You do not need to pass it
explicitly after the initial call.</p>
<hr>
</div>
</div>
<div class="section level3">
<h3 id="exploring-the-platform">Exploring the Platform<a class="anchor" aria-label="anchor" href="#exploring-the-platform"></a>
</h3>
<p>Before pulling raw detections, a few summary functions give a quick
overview of the BirdWeather database.</p>
<div class="section level4">
<h4 id="platform-wide-summary">Platform-wide summary<a class="anchor" aria-label="anchor" href="#platform-wide-summary"></a>
</h4>
<p><code><a href="../reference/get_counts.html">get_counts()</a></code> returns a single-row summary of detections,
species, and stations for a given time period:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get_counts.html">get_counts</a></span><span class="op">(</span></span>
<span>  from <span class="op">=</span> <span class="st">"2025-05-01T00:00:00.000Z"</span>,</span>
<span>  to   <span class="op">=</span> <span class="st">"2025-05-02T00:00:00.000Z"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;   detections species stations</span></span>
<span><span class="co">#&gt; 1   11190893    1664     3890</span></span></code></pre>
<p>Over 11 million detections from 1,664 species across 3,890 stations
in a single 24-hour period illustrates the scale of the BirdWeather
network.</p>
</div>
<div class="section level4">
<h4 id="top-species">Top species<a class="anchor" aria-label="anchor" href="#top-species"></a>
</h4>
<p><code><a href="../reference/get_top_species.html">get_top_species()</a></code> returns the most frequently detected
species for a given period, with a breakdown of detection
confidence:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get_top_species.html">get_top_species</a></span><span class="op">(</span></span>
<span>  limit <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  from  <span class="op">=</span> <span class="st">"2025-05-01T00:00:00.000Z"</span>,</span>
<span>  to    <span class="op">=</span> <span class="st">"2025-05-02T00:00:00.000Z"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;   species_id        common_name        scientific_name  count almost_certain</span></span>
<span><span class="co">#&gt; 1          1      House Sparrow      Passer domesticus 829043         828755</span></span>
<span><span class="co">#&gt; 2         35 Eurasian Blackbird          Turdus merula 713296         713294</span></span>
<span><span class="co">#&gt; 3        134        House Finch   Haemorhous mexicanus 519312         519242</span></span>
<span><span class="co">#&gt; 4         51  Common Chiffchaff Phylloscopus collybita 436480         436477</span></span>
<span><span class="co">#&gt;   very_likely unlikely uncertain</span></span>
<span><span class="co">#&gt; 1          88        0         0</span></span>
<span><span class="co">#&gt; 2           2        0         0</span></span>
<span><span class="co">#&gt; 3          70        0         0</span></span>
<span><span class="co">#&gt; 4           3        0         0</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="discovering-stations">Discovering stations<a class="anchor" aria-label="anchor" href="#discovering-stations"></a>
</h4>
<p><code><a href="../reference/get_stations.html">get_stations()</a></code> retrieves the full station network with
coordinates, country, and station type. This is useful for identifying
stations in a region of interest before pulling detections:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="co"># Pull 10 stations</span></span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>stations <span class="ot">&lt;-</span> <span class="fu">get_stations</span>(<span class="at">limit =</span> <span class="dv">10</span>)</span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="co"># Stations within a bounding box and time period</span></span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a>midwest_stations <span class="ot">&lt;-</span> <span class="fu">get_stations</span>(</span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a>  <span class="at">from  =</span> <span class="st">"2025-05-01T00:00:00.000Z"</span>,</span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a>  <span class="at">to    =</span> <span class="st">"2025-05-02T00:00:00.000Z"</span></span>
<span id="cb7-8"><a href="#cb7-8" tabindex="-1"></a>  <span class="at">ne =</span> <span class="fu">list</span>(<span class="at">lat =</span> <span class="fl">49.0</span>, <span class="at">lon =</span> <span class="sc">-</span><span class="fl">80.0</span>),</span>
<span id="cb7-9"><a href="#cb7-9" tabindex="-1"></a>  <span class="at">sw =</span> <span class="fu">list</span>(<span class="at">lat =</span> <span class="fl">36.0</span>, <span class="at">lon =</span> <span class="sc">-</span><span class="fl">97.0</span>)</span>
<span id="cb7-10"><a href="#cb7-10" tabindex="-1"></a>)</span></code></pre></div>
<p><code>midwest_stations</code> returns 569 observations of 10
variables, including station name, type (e.g., “PUC”, see below),
longitude and latitude, and a station_id unique to the database that
could be helpful for other queries.</p>
<hr>
</div>
</div>
<div class="section level3">
<h3 id="species-detection-patterns">Species Detection Patterns<a class="anchor" aria-label="anchor" href="#species-detection-patterns"></a>
</h3>
<div class="section level4">
<h4 id="finding-species">Finding species<a class="anchor" aria-label="anchor" href="#finding-species"></a>
</h4>
<p><code><a href="../reference/find_species.html">find_species()</a></code> searches the BirdWeather species database
by common or scientific name. This function allows for complete and
partial matches, even including wildcards (e.g., ’whip*’)</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Search by common name</span></span>
<span><span class="fu"><a href="../reference/find_species.html">find_species</a></span><span class="op">(</span><span class="st">"Wood Thrush"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Partial match</span></span>
<span><span class="fu"><a href="../reference/find_species.html">find_species</a></span><span class="op">(</span><span class="st">"thrush"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># wildcard match</span></span>
<span><span class="fu"><a href="../reference/find_species.html">find_species</a></span><span class="op">(</span><span class="st">"whip*"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="time-of-day-activity">Time-of-day activity<a class="anchor" aria-label="anchor" href="#time-of-day-activity"></a>
</h4>
<p><code><a href="../reference/get_tod_counts.html">get_tod_counts()</a></code> returns detection counts binned by
30-minute intervals across a time period, revealing the diel activity
pattern of a species. Here we examine the American Robin (<em>Turdus
migratorius</em>) — a species well known for its early dawn and late
evening chorus:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">robin_id</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/find_species.html">find_species</a></span><span class="op">(</span><span class="st">"American Robin"</span><span class="op">)</span><span class="op">$</span><span class="va">species_id</span></span>
<span></span>
<span><span class="va">robin_tod</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_tod_counts.html">get_tod_counts</a></span><span class="op">(</span></span>
<span>  species_id <span class="op">=</span> <span class="va">robin_id</span>,</span>
<span>  from       <span class="op">=</span> <span class="st">"2025-05-01T00:00:00.000Z"</span>,</span>
<span>  to         <span class="op">=</span> <span class="st">"2025-05-31T00:00:00.000Z"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">robin_tod</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">hour</span>, y <span class="op">=</span> <span class="va">count</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"tomato"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_continuous</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">24</span>, by <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>,</span>
<span>                     labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">24</span>, by <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>, <span class="st">":00"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    title    <span class="op">=</span> <span class="st">"American Robin — Time of Day Activity"</span>,</span>
<span>    subtitle <span class="op">=</span> <span class="st">"May 2025, all BirdWeather stations"</span>,</span>
<span>    x        <span class="op">=</span> <span class="st">"Hour of Day"</span>,</span>
<span>    y        <span class="op">=</span> <span class="st">"Total Detections"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>Contrasting that with a nocturnal species such as the Barred Owl
(<em>Strix varia</em>) shows the power of continuous detections,
creating a contrast with traditional sampling techniques and other avian
databases:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">baow_id</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/find_species.html">find_species</a></span><span class="op">(</span><span class="st">"Strix varia"</span><span class="op">)</span><span class="op">$</span><span class="va">species_id</span></span>
<span></span>
<span><span class="va">baow_tod</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_tod_counts.html">get_tod_counts</a></span><span class="op">(</span></span>
<span>  species_id <span class="op">=</span> <span class="va">baow_id</span>,</span>
<span>  from       <span class="op">=</span> <span class="st">"2025-05-01T00:00:00.000Z"</span>,</span>
<span>  to         <span class="op">=</span> <span class="st">"2025-05-31T00:00:00.000Z"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">baow_tod</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">hour</span>, y <span class="op">=</span> <span class="va">count</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"blue4"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_continuous</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">24</span>, by <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>,</span>
<span>                     labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">24</span>, by <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>, <span class="st">":00"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    title    <span class="op">=</span> <span class="st">"Barred Owl — Time of Day Activity"</span>,</span>
<span>    subtitle <span class="op">=</span> <span class="st">"May 2025, all BirdWeather stations"</span>,</span>
<span>    x        <span class="op">=</span> <span class="st">"Hour of Day"</span>,</span>
<span>    y        <span class="op">=</span> <span class="st">"Total Detections"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>One shortcoming of the TOD function, however, is when a species is
poorly detected. In this case, a manual approach would be required
(e.g., using <code>get_detections</code>)</p>
</div>
<div class="section level4">
<h4 id="daily-detection-trends">Daily detection trends<a class="anchor" aria-label="anchor" href="#daily-detection-trends"></a>
</h4>
<p><code><a href="../reference/get_daily_detection_counts.html">get_daily_detection_counts()</a></code> returns detection totals
aggregated by day, optionally broken down by species. This is useful for
visualizing seasonal trends without downloading raw detections:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">daily</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_daily_detection_counts.html">get_daily_detection_counts</a></span><span class="op">(</span> <span class="co">#ART 20 seconds</span></span>
<span>  from       <span class="op">=</span> <span class="st">"2025-05-01T00:00:00.000Z"</span>,</span>
<span>  to         <span class="op">=</span> <span class="st">"2025-05-31T00:00:00.000Z"</span>,</span>
<span>  by_species <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">daily</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="va">date</span><span class="op">)</span>, y <span class="op">=</span> <span class="va">daily_total</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html" class="external-link">geom_smooth</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"steelblue"</span>, se <span class="op">=</span> <span class="cn">F</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Daily BirdWeather Detections"</span>,</span>
<span>    x     <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    y     <span class="op">=</span> <span class="st">"Detections per Day"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>This function can be a powerful summary function when combined with
<code>station_ids</code>, <code>species_ids</code>, or breaking down
<code>by_species</code>, which are all built-in arguments to the
function.</p>
</div>
<div class="section level4">
<h4 id="raw-detections">Raw Detections<a class="anchor" aria-label="anchor" href="#raw-detections"></a>
</h4>
<p>For research, the most useful function will likely be
<code>get_detections</code>. This function allows for raw data downloads
from the BirdWeather database, where then the scientific questions are
seemingly endless.</p>
<div class="section level5">
<h5 id="get_detections">get_detections<a class="anchor" aria-label="anchor" href="#get_detections"></a>
</h5>
<p><code>get_detections</code> is a function that retrieves bird
detections from the BirdWeather API with optional filters. Importantly,
since we are dealing with millions of rows, the function handles
pagination automatically up to the user-specified limit. If no limit is
specified, the function will return the total number of detections
matching the query. Returns a fully flat data.table with all nested
fields (coords, species, station) expanded into individual columns.</p>
<p>Current functionality allows for filtering on: * Dates (beginning and
end) * Stations * Types of Stations * Species * Continents * Countries *
BirdNET Confidence Scores * Bounding Box * Download Limits (e.g., 1000
rows)</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get detections for a date range</span></span>
<span><span class="va">detections</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_detections.html">get_detections</a></span><span class="op">(</span></span>
<span>  from  <span class="op">=</span> <span class="st">"2025-01-01T00:00:00.000Z"</span>,</span>
<span>  to    <span class="op">=</span> <span class="st">"2025-01-02T00:00:00.000Z"</span>,</span>
<span>  limit <span class="op">=</span> <span class="fl">1000</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Filter by species name - if multiple matches are found, all are shown</span></span>
<span><span class="co"># and the user is prompted to rerun with a more specific name</span></span>
<span><span class="va">detections</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_detections.html">get_detections</a></span><span class="op">(</span></span>
<span>  from          <span class="op">=</span> <span class="st">"2025-05-01T00:00:00.000Z"</span>,</span>
<span>  to            <span class="op">=</span> <span class="st">"2025-05-02T00:00:00.000Z"</span>,</span>
<span>  species_names <span class="op">=</span> <span class="st">"Eastern Whip-poor-will"</span>,</span>
<span>  limit         <span class="op">=</span> <span class="fl">1000</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># For faster pulls, look up species ID first and pass it directly</span></span>
<span><span class="va">ewpw_id</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/find_species.html">find_species</a></span><span class="op">(</span><span class="st">"Eastern Whip-poor-will"</span><span class="op">)</span><span class="op">$</span><span class="va">species_id</span></span>
<span></span>
<span><span class="va">detections</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_detections.html">get_detections</a></span><span class="op">(</span></span>
<span>  from        <span class="op">=</span> <span class="st">"2025-05-01T00:00:00.000Z"</span>,</span>
<span>  to          <span class="op">=</span> <span class="st">"2025-05-02T00:00:00.000Z"</span>,</span>
<span>  species_ids <span class="op">=</span> <span class="va">ewpw_id</span>,</span>
<span>  limit       <span class="op">=</span> <span class="fl">1000</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Filter by continent with a confidence threshold</span></span>
<span><span class="va">detections</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_detections.html">get_detections</a></span><span class="op">(</span></span>
<span>  from           <span class="op">=</span> <span class="st">"2025-01-01T00:00:00.000Z"</span>,</span>
<span>  to             <span class="op">=</span> <span class="st">"2025-01-02T00:00:00.000Z"</span>,</span>
<span>  continents     <span class="op">=</span> <span class="st">"North America"</span>,</span>
<span>  confidence_gte <span class="op">=</span> <span class="fl">0.9</span>,</span>
<span>  limit          <span class="op">=</span> <span class="fl">1000</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="section level6">
<h6 id="returned-columns">returned columns<a class="anchor" aria-label="anchor" href="#returned-columns"></a>
</h6>
<p><code>get_detections</code> will return the following columns:</p>
<table class="table">
<thead><tr class="header">
<th>Column</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>id</code></td>
<td>Detection ID</td>
</tr>
<tr class="even">
<td><code>timestamp</code></td>
<td>Detection timestamp in station timezone</td>
</tr>
<tr class="odd">
<td><code>confidence</code></td>
<td>BirdNET confidence</td>
</tr>
<tr class="even">
<td><code>score</code></td>
<td>Calculated identification likelihood score</td>
</tr>
<tr class="odd">
<td><code>species_id</code></td>
<td>Species ID</td>
</tr>
<tr class="even">
<td><code>common_name</code></td>
<td>Species common name</td>
</tr>
<tr class="odd">
<td><code>scientific_name</code></td>
<td>Species scientific name</td>
</tr>
<tr class="even">
<td><code>station_id</code></td>
<td>Station ID</td>
</tr>
<tr class="odd">
<td><code>station_name</code></td>
<td>Station name</td>
</tr>
<tr class="even">
<td><code>station_type</code></td>
<td>Station type</td>
</tr>
<tr class="odd">
<td><code>station_country</code></td>
<td>Country</td>
</tr>
<tr class="even">
<td><code>station_continent</code></td>
<td>Continent</td>
</tr>
<tr class="odd">
<td><code>station_state</code></td>
<td>State / province</td>
</tr>
<tr class="even">
<td>
<code>station_lat</code>, <code>station_lon</code>
</td>
<td>Station coordinates</td>
</tr>
<tr class="odd">
<td><code>location_privacy</code></td>
<td>fuzzy lat/lons</td>
</tr>
</tbody>
</table>
<hr>
</div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="applications-of-birdweather">Applications of BirdWeather<a class="anchor" aria-label="anchor" href="#applications-of-birdweather"></a>
</h2>
<div class="section level3">
<h3 id="migration-phenology">Migration Phenology<a class="anchor" aria-label="anchor" href="#migration-phenology"></a>
</h3>
<p>One of the most powerful applications of BirdWeather data is tracking
the phenology of migratory species at continental scale. Because
BirdWeather stations operate continuously, the dataset captures the
high-temporal resolution information, such as northward progression of
spring migrants.</p>
<p>Here we use Wood Thrush (<em>Hylocichla mustelina</em>), a
long-distance Neotropical migrant that winters in Central America and
breeds across eastern North America, to illustrate how
<code><a href="../reference/get_detections.html">get_detections()</a></code> can reveal migratory timing across
latitudes.</p>
<p>The <code>woth</code> dataset bundled with this package contains
569,000 Wood Thrush detections from North American BirdWeather stations
during spring migration (March–May 2025), filtered to detections with
confidence ≥ 0.6.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://birdweather.com/" class="external-link">birdweatheR</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-datatable.com" class="external-link">data.table</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">woth</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># To reproduce this dataset from the API:</span></span>
<span><span class="co"># connect_birdweather()</span></span>
<span><span class="co"># woth_id &lt;- find_species("Wood Thrush")$species_id</span></span>
<span><span class="co"># woth &lt;- get_detections(</span></span>
<span><span class="co">#   from           = "2025-03-01T00:00:00.000Z",</span></span>
<span><span class="co">#   to             = "2025-05-31T00:00:00.000Z",</span></span>
<span><span class="co">#   species_ids    = woth_id,</span></span>
<span><span class="co">#   confidence_gte = 0.6,</span></span>
<span><span class="co">#   continents     = "North America"</span></span>
<span><span class="co"># )</span></span></code></pre></div>
<p>We calculate the median latitude of all detections for each day. As
birds depart their Central American wintering grounds and move
northward, the median latitude of detections shifts from roughly 15°N in
early March to over 40°N by mid-May:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">woth</span><span class="op">[</span>, <span class="va">date</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="va">timestamp</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="va">median_lat</span> <span class="op">&lt;-</span> <span class="va">woth</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span>median_lat <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/median.html" class="external-link">median</a></span><span class="op">(</span><span class="va">station_lat</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                   by <span class="op">=</span> <span class="va">date</span><span class="op">]</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">median_lat</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">date</span>, y <span class="op">=</span> <span class="va">median_lat</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html" class="external-link">geom_smooth</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"#1C2223"</span>, fill <span class="op">=</span> <span class="st">"#8D4C00"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html" class="external-link">annotate</a></span><span class="op">(</span><span class="st">"text"</span>,</span>
<span>           x     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2025-03-10"</span><span class="op">)</span>,</span>
<span>           y     <span class="op">=</span> <span class="fl">20</span>,</span>
<span>           label <span class="op">=</span> <span class="st">"Wintering grounds\n(Central America)"</span>,</span>
<span>           size  <span class="op">=</span> <span class="fl">3</span>, color <span class="op">=</span> <span class="st">"gray40"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html" class="external-link">annotate</a></span><span class="op">(</span><span class="st">"text"</span>,</span>
<span>           x     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2025-05-20"</span><span class="op">)</span>,</span>
<span>           y     <span class="op">=</span> <span class="fl">45</span>,</span>
<span>           label <span class="op">=</span> <span class="st">"Breeding grounds\n(Eastern N. America)"</span>,</span>
<span>           size  <span class="op">=</span> <span class="fl">3</span>, color <span class="op">=</span> <span class="st">"gray40"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    title    <span class="op">=</span> <span class="st">"Wood Thrush Spring Migration"</span>,</span>
<span>    subtitle <span class="op">=</span> <span class="st">"Northward shift in median detection latitude, March-May 2025"</span>,</span>
<span>    x        <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    y        <span class="op">=</span> <span class="st">"Median Latitude (°N)"</span>,</span>
<span>    caption  <span class="op">=</span> <span class="st">"Data source: BirdWeather via birdweatheR"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="getting-started_files/figure-html/woth_migration-1.png" class="r-plt" alt="" width="576" style="display: block; margin: auto;"></p>
<p>The smooth northward shift from ~15°N to ~41°N over approximately ten
weeks closely tracks published Wood Thrush migration chronology,
demonstrating that BirdWeather acoustic detections can recover
continent-scale movement patterns from passively collected data
alone.</p>
<hr>
</div>
<div class="section level3">
<h3 id="weather-events-and-sensor-data">Weather Events and Sensor Data<a class="anchor" aria-label="anchor" href="#weather-events-and-sensor-data"></a>
</h3>
<p><a href="https://www.birdweather.com/shop-birdweather-puc" class="external-link">BirdWeather PUC
(Portable Universe Codec) units</a>, BirdWeather’s AI-powered
bioacoustics platform, in addition to being equipped with dual
microphones, WiFi, and GPS, are also packaged with on-board
environmental sensors that record temperature, humidity, barometric
pressure, air quality index, and sound pressure level at approximately
42-second intervals. This onboard sensor data enables researchers to
directly link bird vocal activity to local environmental conditions — a
capability not available in any other large-scale acoustic monitoring
dataset.</p>
<div class="section level4">
<h4 id="the-may-1516-2025-tornado-outbreak">The May 15–16, 2025 Tornado Outbreak<a class="anchor" aria-label="anchor" href="#the-may-1516-2025-tornado-outbreak"></a>
</h4>
<p>On May 15–16, 2025, a major tornado outbreak produced 61 tornadoes
across the Midwest and Ohio Valley in the United States, including a
destructive EF3 tornado that struck the Greater St. Louis metropolitan
area at 2:39 pm CDT on May 16. The outbreak caused 26 deaths and
approximately $5.9 billion in damages.</p>
<p>The <code>stl_storm_May2025</code> dataset contains detections from
eight PUC stations in the St. Louis metro area during May 12–18, 2025.
The <code>stl_env_May2025</code> dataset contains concurrent
environmental sensor readings from those same stations.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">stl_storm_May2025</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">stl_env_May2025</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># To reproduce from the API:</span></span>
<span><span class="co"># connect_birdweather()</span></span>
<span><span class="co"># stl_storm_May2025 &lt;- get_detections(</span></span>
<span><span class="co">#   from          = "2025-05-12T00:00:00.000Z",</span></span>
<span><span class="co">#   to            = "2025-05-18T00:00:00.000Z",</span></span>
<span><span class="co">#   ne            = list(lat = 38.95, lon = -89.85),</span></span>
<span><span class="co">#   sw            = list(lat = 38.35, lon = -90.75),</span></span>
<span><span class="co">#   station_types = "puc"</span></span>
<span><span class="co"># )</span></span>
<span><span class="co">#</span></span>
<span><span class="co"># station_ids &lt;- unique(stl_storm_May2025$station_id)</span></span>
<span><span class="co"># env_list &lt;- lapply(station_ids, function(sid) {</span></span>
<span><span class="co">#   get_environment_data(</span></span>
<span><span class="co">#     station_id = sid,</span></span>
<span><span class="co">#     from       = "2025-05-14T00:00:00.000Z",</span></span>
<span><span class="co">#     to         = "2025-05-17T00:00:00.000Z"</span></span>
<span><span class="co">#   )</span></span>
<span><span class="co"># })</span></span>
<span><span class="co"># stl_env_May2025 &lt;- data.table::rbindlist(env_list, fill = TRUE)</span></span></code></pre></div>
<p>We focus on May 16 itself, plotting bird detections and mean
temperature across all eight stations in 10-minute intervals. The sharp
temperature drop associated with the tornado’s passage is clearly
visible, coinciding with a spike in acoustic detections around the time
of EF3 touchdown:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Parse detection timestamps</span></span>
<span><span class="va">stl_storm_May2025</span><span class="op">[</span>, <span class="va">datetime</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="va">timestamp</span>,</span>
<span>                    format <span class="op">=</span> <span class="st">"%Y-%m-%dT%H:%M:%S"</span>, tz <span class="op">=</span> <span class="st">"America/Chicago"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># 10-minute detection counts</span></span>
<span><span class="va">ten_min_dets</span> <span class="op">&lt;-</span> <span class="va">stl_storm_May2025</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span>det_count <span class="op">=</span> <span class="va">.N</span><span class="op">)</span>,</span>
<span>                  by <span class="op">=</span> <span class="fu">.</span><span class="op">(</span>interval <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span></span>
<span>                    <span class="va">datetime</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">datetime</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html" class="external-link">%%</a></span> <span class="fl">600</span>,</span>
<span>                    <span class="st">"%Y-%m-%d %H:%M:%S"</span><span class="op">)</span>, tz <span class="op">=</span> <span class="st">"America/Chicago"</span><span class="op">)</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="va">stl_env_May2025</span><span class="op">[</span>, <span class="va">datetime</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="va">timestamp</span>,</span>
<span>                  format <span class="op">=</span> <span class="st">"%Y-%m-%dT%H:%M:%S"</span>, tz <span class="op">=</span> <span class="st">"America/Chicago"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># 10-minute temperature averages</span></span>
<span><span class="va">ten_min_env</span> <span class="op">&lt;-</span> <span class="va">stl_env_May2025</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span>mean_temp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">temperature</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                 by <span class="op">=</span> <span class="fu">.</span><span class="op">(</span>interval <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span></span>
<span>                   <span class="va">datetime</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">datetime</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html" class="external-link">%%</a></span> <span class="fl">600</span>,</span>
<span>                   <span class="st">"%Y-%m-%d %H:%M:%S"</span><span class="op">)</span>, tz <span class="op">=</span> <span class="st">"America/Chicago"</span><span class="op">)</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Merge and filter to May 16</span></span>
<span><span class="va">ten_min_combined</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span><span class="va">ten_min_dets</span>, <span class="va">ten_min_env</span>, by <span class="op">=</span> <span class="st">"interval"</span>, all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">may16_start</span>      <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="st">"2025-05-16 00:00:00"</span>, tz <span class="op">=</span> <span class="st">"America/Chicago"</span><span class="op">)</span></span>
<span><span class="va">may16_end</span>        <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="st">"2025-05-16 23:59:59"</span>, tz <span class="op">=</span> <span class="st">"America/Chicago"</span><span class="op">)</span></span>
<span><span class="va">ten_min_may16</span>    <span class="op">&lt;-</span> <span class="va">ten_min_combined</span><span class="op">[</span><span class="va">interval</span> <span class="op">&gt;=</span> <span class="va">may16_start</span> <span class="op">&amp;</span> <span class="va">interval</span> <span class="op">&lt;=</span> <span class="va">may16_end</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Intervals with no detections should be 0, not NA</span></span>
<span><span class="va">ten_min_may16</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">det_count</span><span class="op">)</span>, <span class="va">det_count</span> <span class="op">:=</span> <span class="fl">0</span><span class="op">]</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://wilkelab.org/cowplot/" class="external-link">cowplot</a></span><span class="op">)</span></span>
<span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">ten_min_may16</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">interval</span>, y <span class="op">=</span> <span class="va">det_count</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"forestgreen"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="st">"2025-05-16 14:39:00"</span>, tz <span class="op">=</span> <span class="st">"America/Chicago"</span><span class="op">)</span>,</span>
<span>             color <span class="op">=</span> <span class="st">"red"</span>, linetype <span class="op">=</span> <span class="st">"dashed"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Bird Detections — St. Louis Metro (May 16, 2025)"</span>,</span>
<span>       x <span class="op">=</span> <span class="cn">NULL</span>, y <span class="op">=</span> <span class="st">"Detections per 10 min"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">temp_max</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">ten_min_may16</span><span class="op">$</span><span class="va">mean_temp</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/is.finite.html" class="external-link">is.finite</a></span><span class="op">(</span><span class="va">temp_max</span><span class="op">)</span><span class="op">)</span> <span class="va">temp_max</span> <span class="op">&lt;-</span> <span class="fl">25</span></span>
<span></span>
<span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">ten_min_may16</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">interval</span>, y <span class="op">=</span> <span class="va">mean_temp</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"darkorange"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="st">"2025-05-16 14:39:00"</span>, tz <span class="op">=</span> <span class="st">"America/Chicago"</span><span class="op">)</span>,</span>
<span>             color <span class="op">=</span> <span class="st">"red"</span>, linetype <span class="op">=</span> <span class="st">"dashed"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html" class="external-link">annotate</a></span><span class="op">(</span><span class="st">"text"</span>, x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="st">"2025-05-16 14:39:00"</span>, tz <span class="op">=</span> <span class="st">"America/Chicago"</span><span class="op">)</span>,</span>
<span>           y     <span class="op">=</span> <span class="fl">30</span>,</span>
<span>           label <span class="op">=</span> <span class="st">"EF3 touchdown\n2:39pm CDT"</span>,</span>
<span>           color <span class="op">=</span> <span class="st">"red"</span>, hjust <span class="op">=</span> <span class="op">-</span><span class="fl">0.1</span>, size <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="cn">NULL</span>, y <span class="op">=</span> <span class="st">"Temperature (°C)"</span>,</span>
<span>       caption <span class="op">=</span> <span class="st">"Data source: BirdWeather via birdweatheR"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://wilkelab.org/cowplot/reference/plot_grid.html" class="external-link">plot_grid</a></span><span class="op">(</span><span class="va">p1</span>, <span class="va">p2</span>, ncol <span class="op">=</span> <span class="fl">1</span>, align <span class="op">=</span> <span class="st">"v"</span><span class="op">)</span></span></code></pre></div>
<p><img src="getting-started_files/figure-html/stl_may16-1.png" class="r-plt" alt="" width="576" style="display: block; margin: auto;"></p>
<p>The <code><a href="../reference/get_environment_data.html">get_environment_data()</a></code> function retrieves sensor
readings for any PUC station and time window, enabling researchers to
pair environmental context with acoustic detections at fine temporal
resolution.</p>
<hr>
</div>
</div>
<div class="section level3">
<h3 id="astronomical-events">Astronomical Events<a class="anchor" aria-label="anchor" href="#astronomical-events"></a>
</h3>
<p>In addition to environmental sensors, PUCs record light-levels at the
sensor, including broadband light levels, near-infrared light, and the
ability to isolate bands f1-f8. The combination of acoustic detections
and on-board light sensors makes BirdWeather data uniquely suited to
studying how birds respond to rapid changes in light levels — including
those caused by solar eclipses.</p>
<div class="section level4">
<h4 id="the-april-8-2024-total-solar-eclipse">The April 8, 2024 Total Solar Eclipse<a class="anchor" aria-label="anchor" href="#the-april-8-2024-total-solar-eclipse"></a>
</h4>
<p>On April 8, 2024, a total solar eclipse crossed North America along a
path running from Texas northeast through the Ohio Valley. At stations
within the path of totality, daylight was completely extinguished for up
to four minutes around 2:00 pm local time.</p>
<p>The <code>total_eclipse</code> dataset contains detections from PUC
stations within an eclipse path bounding box during April 8, 2024. The
<code>eclipse_light_data</code> dataset contains concurrent light sensor
readings from those same stations.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">total_eclipse</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">eclipse_light_data</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># To reproduce from the API:</span></span>
<span><span class="co"># connect_birdweather()</span></span>
<span><span class="co"># total_eclipse &lt;- get_detections(</span></span>
<span><span class="co">#   from           = "2024-04-08T00:00:00.000Z",</span></span>
<span><span class="co">#   to             = "2024-04-09T00:00:00.000Z",</span></span>
<span><span class="co">#   ne             = list(lat = 42.639347, lon = -79.672852),</span></span>
<span><span class="co">#   sw             = list(lat = 34.331340, lon = -94.570313),</span></span>
<span><span class="co">#   confidence_gte = 0.6,</span></span>
<span><span class="co">#   station_types  = "puc"</span></span>
<span><span class="co"># )</span></span>
<span><span class="co">#</span></span>
<span><span class="co"># station_ids &lt;- unique(total_eclipse$station_id)</span></span>
<span><span class="co"># light_list &lt;- lapply(station_ids, function(sid) {</span></span>
<span><span class="co">#   get_light_data(</span></span>
<span><span class="co">#     station_id = sid,</span></span>
<span><span class="co">#     from       = "2024-04-08T00:00:00.000Z",</span></span>
<span><span class="co">#     to         = "2024-04-09T00:00:00.000Z"</span></span>
<span><span class="co">#   )</span></span>
<span><span class="co"># })</span></span>
<span><span class="co"># eclipse_light_data &lt;- data.table::rbindlist(light_list, fill = TRUE)</span></span></code></pre></div>
<p>Rather than relying on an external shapefile, we use the PUC light
sensor data itself to identify stations that experienced totality —
defined here as stations where broadband light levels dropped below 10%
of their morning baseline during the eclipse window:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">eclipse_light_data</span><span class="op">[</span>, <span class="va">datetime</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="va">timestamp</span>,</span>
<span>                    format <span class="op">=</span> <span class="st">"%Y-%m-%dT%H:%M:%S"</span>, tz <span class="op">=</span> <span class="st">"America/Chicago"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">total_eclipse</span><span class="op">[</span>, <span class="va">datetime</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="va">timestamp</span>,</span>
<span>               format <span class="op">=</span> <span class="st">"%Y-%m-%dT%H:%M:%S"</span>, tz <span class="op">=</span> <span class="st">"America/Chicago"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Morning baseline (10:00-11:00 am)</span></span>
<span><span class="va">station_baselines</span> <span class="op">&lt;-</span> <span class="va">eclipse_light_data</span><span class="op">[</span></span>
<span>  <span class="va">datetime</span> <span class="op">&gt;=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="st">"2024-04-08 10:00:00"</span>, tz <span class="op">=</span> <span class="st">"America/Chicago"</span><span class="op">)</span> <span class="op">&amp;</span></span>
<span>  <span class="va">datetime</span> <span class="op">&lt;=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="st">"2024-04-08 11:00:00"</span>, tz <span class="op">=</span> <span class="st">"America/Chicago"</span><span class="op">)</span>,</span>
<span>  <span class="fu">.</span><span class="op">(</span>baseline <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">clear</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>, by <span class="op">=</span> <span class="va">station_id</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Minimum light during totality window (1:45-2:15 pm)</span></span>
<span><span class="va">station_min</span> <span class="op">&lt;-</span> <span class="va">eclipse_light_data</span><span class="op">[</span></span>
<span>  <span class="va">datetime</span> <span class="op">&gt;=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="st">"2024-04-08 13:45:00"</span>, tz <span class="op">=</span> <span class="st">"America/Chicago"</span><span class="op">)</span> <span class="op">&amp;</span></span>
<span>  <span class="va">datetime</span> <span class="op">&lt;=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="st">"2024-04-08 14:15:00"</span>, tz <span class="op">=</span> <span class="st">"America/Chicago"</span><span class="op">)</span>,</span>
<span>  <span class="fu">.</span><span class="op">(</span>min_clear <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">clear</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>, by <span class="op">=</span> <span class="va">station_id</span><span class="op">]</span></span>
<span></span>
<span><span class="va">totality_ids</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span><span class="va">station_baselines</span>, <span class="va">station_min</span>, by <span class="op">=</span> <span class="st">"station_id"</span><span class="op">)</span><span class="op">[</span></span>
<span>  <span class="va">min_clear</span> <span class="op">/</span> <span class="va">baseline</span> <span class="op">&lt;</span> <span class="fl">0.10</span>, <span class="va">station_id</span><span class="op">]</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">totality_ids</span><span class="op">)</span>, <span class="st">" stations identified within path of totality"</span><span class="op">)</span></span></code></pre></div>
<p>Of the stations in the bounding box, 25 experienced a light drop of
&gt;90%, confirming they were likely within the path of totality.</p>
<p>We then compare broadband light levels with Common Grackle
(<em>Quiscalus quiscula</em>) vocalization rates across these stations.
Common Grackle is a highly vocal diurnal species with peak activity
during midday — making it a sensitive indicator of unusual light
changes:</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># 5-minute bin helper</span></span>
<span><span class="va">bin5</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">dt</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span><span class="va">dt</span>, <span class="st">"%Y-%m-%d %H:"</span><span class="op">)</span>,</span>
<span>           <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"%02d"</span>, <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span><span class="va">dt</span>, <span class="st">"%M"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html" class="external-link">%/%</a></span> <span class="fl">5</span><span class="op">)</span> <span class="op">*</span> <span class="fl">5</span><span class="op">)</span>,</span>
<span>           <span class="st">":00"</span><span class="op">)</span>,</span>
<span>    tz <span class="op">=</span> <span class="st">"America/Chicago"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Filter to daytime window and totality stations</span></span>
<span><span class="va">eclipse_day_light</span> <span class="op">&lt;-</span> <span class="va">eclipse_light_data</span><span class="op">[</span></span>
<span>  <span class="va">station_id</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">totality_ids</span> <span class="op">&amp;</span></span>
<span>  <span class="va">datetime</span> <span class="op">&gt;=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="st">"2024-04-08 10:00:00"</span>, tz <span class="op">=</span> <span class="st">"America/Chicago"</span><span class="op">)</span> <span class="op">&amp;</span></span>
<span>  <span class="va">datetime</span> <span class="op">&lt;=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="st">"2024-04-08 17:00:00"</span>, tz <span class="op">=</span> <span class="st">"America/Chicago"</span><span class="op">)</span></span>
<span><span class="op">]</span></span>
<span></span>
<span><span class="va">eclipse_day_dets</span> <span class="op">&lt;-</span> <span class="va">total_eclipse</span><span class="op">[</span></span>
<span>  <span class="va">station_id</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">totality_ids</span> <span class="op">&amp;</span></span>
<span>  <span class="va">datetime</span> <span class="op">&gt;=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="st">"2024-04-08 10:00:00"</span>, tz <span class="op">=</span> <span class="st">"America/Chicago"</span><span class="op">)</span> <span class="op">&amp;</span></span>
<span>  <span class="va">datetime</span> <span class="op">&lt;=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="st">"2024-04-08 17:00:00"</span>, tz <span class="op">=</span> <span class="st">"America/Chicago"</span><span class="op">)</span> <span class="op">&amp;</span></span>
<span>  <span class="va">common_name</span> <span class="op">==</span> <span class="st">"Common Grackle"</span></span>
<span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Bin to 5 minutes</span></span>
<span><span class="va">light_bins</span> <span class="op">&lt;-</span> <span class="va">eclipse_day_light</span><span class="op">[</span>,</span>
<span>  <span class="fu">.</span><span class="op">(</span>mean_clear <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">clear</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  by <span class="op">=</span> <span class="fu">.</span><span class="op">(</span>bin <span class="op">=</span> <span class="fu">bin5</span><span class="op">(</span><span class="va">datetime</span><span class="op">)</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="va">det_bins</span> <span class="op">&lt;-</span> <span class="va">eclipse_day_dets</span><span class="op">[</span>,</span>
<span>  <span class="fu">.</span><span class="op">(</span>det_count <span class="op">=</span> <span class="va">.N</span><span class="op">)</span>,</span>
<span>  by <span class="op">=</span> <span class="fu">.</span><span class="op">(</span>bin <span class="op">=</span> <span class="fu">bin5</span><span class="op">(</span><span class="va">datetime</span><span class="op">)</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://wilkelab.org/cowplot/" class="external-link">cowplot</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">det_bins</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">bin</span>, y <span class="op">=</span> <span class="va">det_count</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"purple"</span>, alpha <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html" class="external-link">geom_smooth</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"purple"</span>, se <span class="op">=</span> <span class="cn">FALSE</span>, span <span class="op">=</span> <span class="fl">0.15</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline</a></span><span class="op">(</span></span>
<span>    xintercept <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="st">"2024-04-08 13:59:00"</span>, tz <span class="op">=</span> <span class="st">"America/Chicago"</span><span class="op">)</span>,</span>
<span>    color <span class="op">=</span> <span class="st">"gray20"</span>, linetype <span class="op">=</span> <span class="st">"dashed"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html" class="external-link">annotate</a></span><span class="op">(</span><span class="st">"text"</span>,</span>
<span>           x     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="st">"2024-04-08 13:59:00"</span>, tz <span class="op">=</span> <span class="st">"America/Chicago"</span><span class="op">)</span>,</span>
<span>           y     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">det_bins</span><span class="op">$</span><span class="va">det_count</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">*</span> <span class="fl">0.95</span>,</span>
<span>           label <span class="op">=</span> <span class="st">"Totality"</span>, color <span class="op">=</span> <span class="st">"gray20"</span>, hjust <span class="op">=</span> <span class="op">-</span><span class="fl">0.1</span>, size <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    title    <span class="op">=</span> <span class="st">"Common Grackle Vocalizations During the April 8, 2024 Solar Eclipse"</span>,</span>
<span>    subtitle <span class="op">=</span> <span class="st">"5-minute detection counts, stations within path of totality"</span>,</span>
<span>    x        <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    y        <span class="op">=</span> <span class="st">"Detections per 5 min"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">light_bins</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">bin</span>, y <span class="op">=</span> <span class="va">mean_clear</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"goldenrod"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline</a></span><span class="op">(</span></span>
<span>    xintercept <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="st">"2024-04-08 13:59:00"</span>, tz <span class="op">=</span> <span class="st">"America/Chicago"</span><span class="op">)</span>,</span>
<span>    color <span class="op">=</span> <span class="st">"gray20"</span>, linetype <span class="op">=</span> <span class="st">"dashed"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    subtitle <span class="op">=</span> <span class="st">"Mean broadband clear light across stations in path of totality"</span>,</span>
<span>    x        <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    y        <span class="op">=</span> <span class="st">"Clear Light (counts)"</span>,</span>
<span>    caption  <span class="op">=</span> <span class="st">"Data source: BirdWeather via birdweatheR"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://wilkelab.org/cowplot/reference/plot_grid.html" class="external-link">plot_grid</a></span><span class="op">(</span><span class="va">p1</span>, <span class="va">p2</span>, ncol <span class="op">=</span> <span class="fl">1</span>, align <span class="op">=</span> <span class="st">"v"</span><span class="op">)</span></span></code></pre></div>
<p><img src="getting-started_files/figure-html/eclipse_plot-1.png" class="r-plt" alt="" width="576" style="display: block; margin: auto;"></p>
<p>The light sensor data clearly captures the eclipse — broadband light
levels collapse to near zero at totality before recovering to normal
afternoon levels. The concurrent reduction in Common Grackle
vocalizations illustrates how BirdWeather’s integrated acoustic and
environmental sensing can be used to study behavioral responses to rapid
environmental perturbations.</p>
<hr>
</div>
</div>
<div class="section level3">
<h3 id="further-reading">Further Reading<a class="anchor" aria-label="anchor" href="#further-reading"></a>
</h3>
<p>The analyses demonstrated in this vignette represent a small subset
of what is possible with the BirdWeather dataset. For an example of
large-scale ecological synthesis using BirdWeather detections, see <a href="https://www.science.org/doi/10.1126/science.adv9472" class="external-link">Pease &amp;
Gilbert (2025)</a>, who used over 60 million BirdWeather detections
across 583 diurnal species to demonstrate that light pollution prolongs
avian vocal activity by up to 50 minutes in the brightest landscapes
(<em>Science</em>, 387, 848–853).</p>
<p>Additionally, a full analysis of the 2023 Annular and 2024 Total
Eclipses using data from the <a href="https://eclipsesoundscapes.org/" class="external-link">Eclipse Soundscapes</a> project
and BirdWeather can be found in <a href="https://onlinelibrary.wiley.com/doi/full/10.1002/ece3.73090" class="external-link">Gilbert
et al., 2026</a></p>
<p>For questions, bug reports, or feature requests, please visit the
package repository at <a href="https://github.com/BrentPease1/birdweatheR" class="external-link">github.com/BrentPease1/birdweatheR</a>.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Brent S. Pease, Neil A. Gilbert.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
